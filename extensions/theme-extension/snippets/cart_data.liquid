<script>
  async function cartData() {
    try {
      const response = await fetch('/cart.js');
      const cart = await response.json();
  
      const discountCode = cart?.cart_level_discount_applications[0]?.title;
      const totalPrice = cart?.total_price;

      if(!discountCode && !totalPrice) return false;
      return { discountCode, totalPrice };
    } catch (error) {
      console.error('Error fetching cart:', error);
      return { discountCode: null, totalPrice: null };
    }
  }
    
</script>
